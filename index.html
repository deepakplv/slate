<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Plivo Internal APIs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;JSON Response&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="JSON Response">JSON Response</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><span class="copyright">Â© 2017 Plivo Inc.</span></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>These are some internal APIs used at Plivo.</p>

<p>You can view JSON response samples in the dark area to the right.</p>

<h2 id="authentication">Authentication</h2>

<p>All requests to Plivo API are authenticated with Basic Auth using the account/subaccount AUTH ID and AUTH TOKEN visible at the <a href="https://manage.plivo.com/dashboard/">dashboard</a>.
<img src="images/auth_id_auth_token.png" alt="Auth id auth token" /></p>

<h2 id="api-response-status">API Response Status</h2>

<p>APIs return one of the following HTTP status codes.</p>

<table>
    <thead>
        <tr>
            <th>Status Code</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>200</td>
            <td>Request has been executed</td>
        </tr>
        <tr>
            <td>201</td>
            <td>Resource created</td>
        </tr>
        <tr>
            <td>202</td>
            <td>Resource changed</td>
        </tr>
        <tr>
            <td>204</td>
            <td>Resource deleted</td>
        </tr>
        <tr>
            <td>400</td>
            <td>A parameter is missing or is invalid</td>
        </tr>
        <tr>
            <td>401</td>
            <td>Authentication failed</td>
        </tr>
        <tr>
            <td>404</td>
            <td>Resource cannot be found</td>
        </tr>
        <tr>
            <td>405</td>
            <td>HTTP method not allowed</td>
        </tr>
        <tr>
            <td>500</td>
            <td>Server error</td>
        </tr>
    </tbody>
</table>

<h1 id="number-amp-phonenumber-internal-apis">Number &amp; PhoneNumber Internal APIs</h1>

<p>The following actions can be performed using the Number/PhoneNumber internal APIs.</p>

<h2 id="add-number-to-inventory">Add number to Inventory</h2>

<blockquote>
<p>Success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Number 0123456789 has been added successfully to the inventory"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Failure</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exception while saving Number 0123456789 to Phone Inventory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error Message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API lets adding a number to Plivo Phone Inventory.</p>

<p><code class="prettyprint">POST /api/v1/AddPhoneNumber/</code></p>

<p><a href="https://github.com/plivo/plivocloud/blob/cb70493cd1452f7dc22b97a5dc5620cb29aa661c/plivo_cloud/plivo_api/internal_api.py#L2374">Source</a></p>

<h3 id="arguments">Arguments</h3>

<table>
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>number</td>
            <td>The number to be added</td>
        </tr>
        <tr>
            <td>number_type</td>
            <td>This field may be used to categorize between local and tollfree numbers. Default is local.</td>
        </tr>
        <tr>
            <td>sms_enabled</td>
            <td>Boolean to denote if number is sms enabled</td>
        </tr>
        <tr>
            <td>rented_from_carrier</td>
            <td>Rented from carrier date</td>
        </tr>
        <tr>
            <td>rate_center</td>
            <td>Rate Center</td>
        </tr>
        <tr>
            <td>lata</td>
            <td>Numbers can be searched using <a href="http://en.wikipedia.org/wiki/Local_access_and_transport_area">Local Access and Transport Area</a>. This filter is applicable only for <code>country_iso</code> US and CA.</td>
        </tr>
        <tr>
            <td>prefix</td>
            <td>This is the area code of the number.</td>
        </tr>
        <tr>
            <td>state</td>
            <td>Region&rsquo;s state.</td>
        </tr>
    </tbody>
</table>

<h2 id="check-source-number">Check Source Number</h2>

<blockquote>
<p>Success 200</p>

<p>Failure 404</p>
</blockquote>

<p>This API lets check if source number is present in the account.</p>

<p><code class="prettyprint">GET /api/v1/Internal/Account/{AUTH_ID}/NumberCheck/{SOURCE_NUMBER}/</code></p>

<p><a href="https://github.com/plivo/plivocloud/blob/cb70493cd1452f7dc22b97a5dc5620cb29aa661c/plivo_cloud/plivo_api/internal_api.py#L983">Source</a></p>

<h3 id="arguments">Arguments</h3>

<p>None</p>

<h2 id="get-sandbox-numbers">Get Sandbox Numbers</h2>

<blockquote>
<p>Success 200</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  "919123456789",
  "919123456790"
]
</code></pre>
<blockquote>
<p>Failure 404</p>
</blockquote>

<p>This API shows sandbox numbers for the account.</p>

<p><code class="prettyprint">GET /api/v1/Internal/Account/{AUTH_ID}/SandboxNumbers/</code></p>

<p><a href="https://github.com/plivo/plivocloud/blob/cb70493cd1452f7dc22b97a5dc5620cb29aa661c/plivo_cloud/plivo_api/internal_api.py#L997">Source</a></p>

<h3 id="arguments">Arguments</h3>

<p>None</p>

<h2 id="add-numbers-to-inventory">Add numbers to Inventory</h2>

<blockquote>
<p>Success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The numbers have been added to the inventory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[0123456789, 1234567890]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Failure</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failure"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phone number 0123456789 could not be added"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API lets adding a list of numbers to Plivo Phone Inventory.</p>

<p><code class="prettyprint">POST /api/v1/Internal/Number/</code></p>

<p><a href="https://github.com/plivo/plivocloud/blob/cb70493cd1452f7dc22b97a5dc5620cb29aa661c/plivo_cloud/plivo_api/add_numbers_to_inventory.py#L35">Source</a></p>

<h3 id="arguments">Arguments</h3>

<p>A JSON of parameters are accepted.
<table>
    <thead>
        <tr>
            <th>JSON Parameters</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>numbers</td>
            <td>List of numbers to be added</td>
        </tr>
        <tr>
            <td>carrier_id</td>
            <td>The ID of the carrier which is linked to these numbers. This can either be a Plivo carrier or a custom carrier added using the IncomingCarrier API.</td>
        </tr>
        <tr>
            <td>tier</td>
            <td>Incoming Carrier Tier</td>
        </tr>
        <tr>
            <td>number_type</td>
            <td>This field may be used to categorize between local and tollfree numbers. Default is local.</td>
        </tr>
        <tr>
            <td>product_plan</td>
            <td>Product Plan name to be offered to market</td>
        </tr>
        <tr>
            <td>voice_enabled</td>
            <td>Boolean to denote if numbers are voice enabled</td>
        </tr>
        <tr>
            <td>sms_enabled</td>
            <td>Boolean to denote if numbers are sms enabled</td>
        </tr>
        <tr>
            <td>region_id</td>
            <td>The ID of region, with the city and the country these numbers belongs to.</td>
        </tr>
        <tr>
            <td>rate_center</td>
            <td>Rate Center</td>
        </tr>
        <tr>
            <td>lata</td>
            <td>Numbers can be searched using <a href="http://en.wikipedia.org/wiki/Local_access_and_transport_area">Local Access and Transport Area</a>. This filter is applicable only for <code>country_iso</code> US and CA.</td>
        </tr>
        <tr>
            <td>username</td>
            <td>Account&rsquo;s username(from User table)</td>
        </tr>
    </tbody>
</table></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="JSON Response">JSON Response</a>
          </div>
      </div>
    </div>
  </body>
</html>
